\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{section-format-simplecolor}[2025/05/23 Title section package]


\RequirePackage{xcolor}
\RequirePackage{kvoptions} % Carga la biblioteca kvoptions
\RequirePackage[explicit]{titlesec} % necesario para titleformat. [explicit] habilita usar #1

\makeatletter

% Define las opciones de paquete Width y TextColor
\SetupKeyvalOptions{
  family=SectionFormatSimpleColor,
  prefix=SectionFormatSimpleColor@
}

\DeclareStringOption[black]{TitleColor}
\DeclareStringOption[30pt]{AfterPretitleSpace}

% Procesa las opciones del paquete
\ProcessKeyvalOptions*


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title with number
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\titleformat
{\section}% command
[block]%shape
{\Large\bfseries}% format
{}% label
{0pt}% sep
{%
\parbox{\textwidth}{%
\color{\SectionFormatSimpleColor@TitleColor}%
\thesection%
\hspace{\SectionFormatSimpleColor@AfterPretitleSpace}%
#1}%
}%before code
[]%after code


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title without number
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\titleformat{name=\section,numberless}% command
[block]%shape
{\Large\bfseries}% format
{}% label
{0pt}% sep
{%
\parbox{\textwidth}{
\color{\SectionFormatSimpleColor@TitleColor}%
#1}%
}%before code
[]%after code

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% spacing
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\titlespacing{\section}
{0pt}% left spacing
{0pt}% before spacing
{0pt}% after spacing
%[right]

\titlespacing*{\section}
{0pt}% left spacing
{0pt}% before spacing
{0pt}% after spacing
%[right]

