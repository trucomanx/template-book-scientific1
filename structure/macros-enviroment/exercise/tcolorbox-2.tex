\usepackage{varwidth}

%----------------------------------------------------------------------------------------
% NOTACAO THEOREMS
%----------------------------------------------------------------------------------------
% \begin{exercise}[TÃ­tulo]
%   text
% \end{exercise}
%----------------------------------------------------------------------------------------
%% Create a new counter that will follow tcolorbox's numbering
\newcounter{exercise}[section]
\renewcommand*{\theexercise}{\noexpand\thesection.\noexpand\arabic{exercise}}

\newtcolorbox[list inside=MisExercise,list type=MisExercise,auto counter,number within=section]{exercise}[1][]{
enhanced,
before skip=2mm,
after skip=2mm,
colback=black!5,
colframe=black!50,
boxrule=0.2mm,
attach boxed title to top left={xshift=1cm,yshift*=1mm-\tcboxedtitleheight},
varwidth boxed title*=-3cm,
boxed title style={frame code={
\path[fill=colorExercise]
([yshift=-1mm,xshift=-1mm]frame.north west)
arc[start angle=0,end angle=180,radius=1mm]
([yshift=-1mm,xshift=1mm]frame.north east)
arc[start angle=180,end angle=0,radius=1mm];
\path[left color=colorExercise!60!black,right color=colorExercise,middle color=colorExercise]
([xshift=-2mm]frame.north west) -- ([xshift=2mm]frame.north east)
[rounded corners=1mm]-- ([xshift=1mm,yshift=-1mm]frame.north east)
-- (frame.south east) -- (frame.south west)
-- ([xshift=-1mm,yshift=-1mm]frame.north west)
[sharp corners]-- cycle;
},interior engine=empty,
},
fonttitle=\bfseries,
before upper={\addtocounter{exercise}{-1}\refstepcounter{exercise}\refstepcounter{exercise}{\bfseries Exerc\'icio~\thetcbcounter:}},
title={#1}%{  #1}
}

%% List of type %% para:  \tcblistof[\section*]{MisExercise}{Lista de frases}
\titlecontents{MisExercise}[2.00cm] %% Indentation %% left
{\TocEntryEnvTextFormat} %% Spacing and font options for sections %% above code
{\contentslabel[{\thecontentslabel}]{1.45cm}} %% Section number %% numbered-entry-format % {\thetcbcounter}%
{} %% numberless-entry-format
{\ \titlerule*[.5pc]{.}\;\color{black}\thecontentspage} %% filler-page-format {\hfill\color{black}\thecontentspage} 
[] %% separator

\makeatletter
\newcommand{\ttll@MisExercise}{-1000}
\makeatother

