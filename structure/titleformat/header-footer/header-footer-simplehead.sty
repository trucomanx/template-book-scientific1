\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{header-footer-simplehead}[2014/10/23 Header footer package]


\RequirePackage{xcolor}
\RequirePackage{fancyhdr}  % Required for header and footer configuration
\RequirePackage{kvoptions} % Carga la biblioteca kvoptions

% Define las opciones de paquete Width y TextColor
\SetupKeyvalOptions{
  family=HeaderFooterSimpleHead,
  prefix=HeaderFooterSimpleHead@
}

\DeclareStringOption[2pt]{HeaderRuleTickness}
\DeclareStringOption[red]{HeaderTextColor}
\DeclareStringOption[--]{HeaderTextSeparator}

% Procesa las opciones del paquete
\ProcessKeyvalOptions*


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\pagestyle{fancy}

\renewcommand{\chaptermark}[1]{ % Chapter text font settings
\markboth{\small\textcolor{\HeaderFooterSimpleHead@HeaderTextColor}{\chaptername\ \thechapter\ \HeaderFooterSimpleHead@HeaderTextSeparator\ #1}}{}
}

\renewcommand{\sectionmark}[1]{ % Section text font settings
\markright{\small\textcolor{\HeaderFooterSimpleHead@HeaderTextColor}{\thesection\ \HeaderFooterSimpleHead@HeaderTextSeparator\ #1}}{}
}


\fancyhf{} 
% Font setting for the page number in the header
\fancyhead[LE,RO]{\bfseries\small\textcolor{\HeaderFooterSimpleHead@HeaderTextColor}{\thepage}} 
\fancyhead[LO]{\rightmark} % Print the nearest section name on the left side of odd pages
\fancyhead[RE]{\leftmark} % Print the current chapter name on the right side of even pages

\renewcommand{\headwidth}{\textwidth} % comprimento de todos los elementos del header

\renewcommand{\headrulewidth}{\HeaderFooterSimpleHead@HeaderRuleTickness} % Width of the rule under the header

% Agrega la regla superior en el encabezado con el color deseado
\renewcommand{\headrule}{\vspace{-1ex}\color{\HeaderFooterSimpleHead@HeaderTextColor}\rule{\linewidth}{\headrulewidth}}

%\renewcommand{\footrulewidth}{0pt} % Removes the rule in the footer

\fancypagestyle{plain}{\fancyhead{}\renewcommand{\headrulewidth}{0pt}} % Style for when a plain pagestyle is specified



